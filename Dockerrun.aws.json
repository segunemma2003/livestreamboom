{
  "AWSEBDockerrunVersion": 3,
  "services": {
    "web": {
      "image": "934155604952.dkr.ecr.us-east-1.amazonaws.com/livestream-service:latest",
      "essential": true,
      "memory": 4096,
      "ports": [
        {
          "hostPort": 80,
          "containerPort": 8000
        }
      ],
      "environment": [
        {
          "name": "DEBUG",
          "value": "False"
        },
        {
          "name": "DJANGO_SETTINGS_MODULE", 
          "value": "livestream_project.settings_production"
        },
        {
          "name": "PYTHONPATH",
          "value": "/app"
        }
      ],
      "healthcheck": {
        "test": ["CMD-SHELL", "curl -f http://localhost:8000/health/ || exit 1"],
        "interval": 30,
        "timeout": 10,
        "retries": 3,
        "start_period": 120
      },
      "logging": {
        "driver": "awslogs",
        "options": {
          "awslogs-group": "/aws/elasticbeanstalk/livestream-service",
          "awslogs-region": "us-east-1",
          "awslogs-stream-prefix": "web",
          "awslogs-create-group": "true"
        }
      },
      "volumes": [
        {
          "name": "recordings",
          "host": {
            "sourcePath": "/var/recordings"
          }
        }
      ]
    }
  }
}